<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="icon" href="tp.ico">
    <title>加载中</title>
    <link rel="stylesheet" href="109.css">
</head>

<body>
    <div class="loader">
        <span>欢</span>
        <span>迎</span>
        <span>来</span>
        <span>到</span>
        <span>我</span>
        <span>的</span>
        <span>网</span>
        <span>站</span>
        <span></span>
        <span></span>
        <span></span>
    </div>

    <script>
        // Function to load HTML files and check image loading status
        function loadAndCheckImages() {
            var htmlFiles = ['主页.html', 'sp.html', 'yx.html']; // List of HTML files to load
            var loadedCount = 0;

            function checkAllLoaded() {
                loadedCount++;
                if (loadedCount === htmlFiles.length) {
                    // All HTML files are loaded, wait for all images to be loaded
                    var images = document.querySelectorAll('img');
                    var loadedImagesCount = 0;
                    images.forEach(function (img) {
                        if (img.complete) {
                            loadedImagesCount++;
                        }
                    });

                    if (loadedImagesCount === images.length) {
                        // All images are loaded, redirect to index.html
                        window.location.href = '主页.html';
                    } else {
                        // Some images are still loading
                        console.log('Some images are still loading...');
                    }
                }
            }

            htmlFiles.forEach(function (file) {
                fetch(file)
                    .then(function (response) {
                        if (response.ok) {
                            checkAllLoaded();
                        }
                    })
                    .catch(function (error) {
                        console.error('Error loading HTML file:', error);
                    });
            });
        }

        // Call the function when the window is loaded
        window.onload = function () {
            loadAndCheckImages();
        };
    </script>
</body>

</html>
